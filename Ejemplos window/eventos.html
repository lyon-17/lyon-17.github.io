<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Ejemplo con window</title>
<author>Alejandro Gutierrez Lozano</author>

<script type="text/javascript">
window.onload = function() {
	function moverRaton(elEvento){
		var evento = elEvento || window.event; //captura el evento (onmousemove)
		//Cada vez que se mueve el raton ejecuta este codigo
		document.getElementById('info').style.backgroundColor = '#FFFFCC';
		//Obtiene las coordenadas del raton
		var coorRatonX = evento.clientX;
		var coorRatonY = evento.clientY;
		//obtiene las coordenadas de la pagina
		var coorScreenX = evento.pageX;
		var coorScreenY = evento.pageY;
		//Muestra las coordenadas
		muestraInformacion(['Coordenadas' ,
		'raton X: ' + coorRatonX + ' raton Y: ' + coorRatonY ,
		' pagina X: ' + coorScreenX + ' pagina Y: ' + coorScreenY]);
	}
	function clickTeclado(elEvento){
 		var evento = elEvento || window.event;//captura el evento (onkeypress)
 		//ejecuta este codigo cada vez que se pulsa una tecla
 		var caracter = evento.charCode || evento.keyCode; //obtiene el numero de la tecla pulsada
 		document.getElementById('info').style.backgroundColor = '#CCE6FF';
 		muestraInformacion(['Tecla' , 'Tecla pulsada: ' + caracter , 'Caracter: ' + String.fromCharCode(caracter)]);//convierte a String caracter (para obtener el literal)
	}
	document.onmousemove = moverRaton; // se asocia a la pagina. Si mueves el raton, ejecuta moverRaton
	document.onkeypress = clickTeclado; // Si pulsas una tecla, ejecuta clickTeclado.
}
function muestraInformacion(mensaje) {
	document.getElementById("info").innerHTML = '<h1>'+mensaje[0]+'</h1>';
	for(var i=1; i<mensaje.length; i++) {
		document.getElementById("info").innerHTML += '<p>'+mensaje[i]+'</p>';
	}
}
</script>
<style type="text/css">
body {font-family: arial, helvetica;}
#info {width:220px; border:thin solid silver; padding:.5em; position:fixed;}
#info h1 {margin: 0;}
</style>
</head>

<body>
<noscript><h1>No tienes el javascript activado :(</h1></noscript>
<h1>Eventos de javascript: onmousemove y onkeypress</h1>
<div id="info"></div>
</body>
</html>